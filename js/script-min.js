var searchLink=document.querySelector(".hotel-search-link"),pop=document.querySelector(".hotel-popup"),searchForm=document.querySelector(".search-form"),startDate=document.querySelector("#start-date"),endDate=document.querySelector("#end-date"),adultCount=document.querySelector("#adult-count"),childrenCount=document.querySelector("#children-count");searchLink.addEventListener("click",function(e){e.preventDefault(),pop.classList.toggle("hotel-popup-show"),pop.classList.contains("error-message")&&pop.classList.remove("error-message");try{storageAdult=localStorage.getItem("adultCount"),storageChildren=localStorage.getItem("childrenCount")}catch(e){isStorageSupport=!1}(storageAdult||storageChildren)&&(adultCount.value=storageAdult,childrenCount.value=storageChildren)}),searchForm.addEventListener("submit",function(e){startDate.value&&endDate.value&&adultCount.value&&childrenCount.value?(localStorage.setItem("adultCount",adultCount.value),localStorage.setItem("childrenCount",childrenCount.value)):(e.preventDefault(),pop.classList.add("error-message"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(pop.classList.contains("hotel-popup-show")&&(e.preventDefault(),pop.classList.remove("hotel-popup-show")),pop.classList.contains("error-message")&&pop.classList.remove("error-message"))});
